var Infinite,infinite;(function(){var i=document.querySelectorAll(".nav__item"),u,r,n,t;if(i.length&&(u=window.location.pathname,r=/\/t\/([^\/]*)/.exec(u),r))for(n=0;n<i.length;n++)t=i[n],t.getAttribute("href").endsWith(r[1])?t.classList.add("active"):t.classList.remove("active")})(),function(){if("Swipe"in window){var n=document.getElementById("slider");n&&Swipe(n,{speed:500,continuous:!0,auto:3e3})}}(),function(){document.querySelector(".article-nav")&&window.addEventListener("hashchange",function(){var n=document.querySelector(":target");n&&window.scrollTo(0,n.offsetTop-45)})}();Infinite=function(){};Infinite.prototype.Constant_={__idContainer:"infinite",__idIndicator:"indicator",__templateArray:["<a href=/a/","1:{{admin.id}}","><div class=medium-list__image><div class=medium-list__image-s style=background-image:url(/resource/","3:{{admin.image}}",')><\/div><\/div><div class=medium-list__footer><div class="medium-list__footer-container mobile-flex-vc"><div class="medium-list__title line-clamp--2"><span>',"5:{{admin.title}}","<\/span><\/div><\/div><\/div><\/a>"],__distance:10};Infinite.prototype.prepare=function(){(this._scrolling=!1,this._count=0,this._disable=!1,this._elementContainer=document.getElementById(this.Constant_.__idContainer),this._elementContainer)&&(this._elementIndicator=document.getElementById(this.Constant_.__idIndicator),this._elementIndicator)&&(this._url=window.location.pathname==="/"?"/api/list/":"/api/lt?tag="+window.location.pathname.split("/")[window.location.pathname.split("/").length-1]+"&skip=",this._handler=this.handleScroll.bind(this),window.addEventListener("scroll",this._handler),"ontouchmove"in document&&document.addEventListener("touchmove",this._handler))};Infinite.prototype.getScrollPos=function(){return window.pageYOffset};Infinite.prototype.changeStatus=function(n){this._scrolling=n;this._elementIndicator.style.display=n?"block":"none"};Infinite.prototype.append=function(n){for(var i,r,t=0;t<n.length;t++)i=n[t],r=document.createElement("div"),r.className="medium-list__item",this.Constant_.__templateArray[1]=i.id,this.Constant_.__templateArray[3]=i.image,this.Constant_.__templateArray[5]=i.title,this._elementContainer.appendChild(r),r.innerHTML=this.Constant_.__templateArray.join("")};Infinite.prototype.dispose=function(){this._disable=!0;window.removeEventListener("scroll",this._handler);"ontouchmove"in document&&document.removeEventListener("touchmove",this._handler);this._elementIndicator.style.display="none"};Infinite.prototype.handleScroll=function(){var n;if(!this._disable&&!this._scrolling){var t=this.getScrollPos(),i=document.documentElement.scrollHeight,r=Math.max(document.documentElement.clientHeight,window.innerHeight);i-(t+r)<this.Constant_.__distance&&(this.changeStatus(!0),this._count++,n=this,fetch(this._url+this._count*10).then(function(n){return n.text()}).then(function(t){if(t=="null")n.dispose();else{var i=JSON.parse(t);n.append(i);n.changeStatus(!1)}}).catch(function(){n.dispose();console.log(arguments)}))}};infinite=new Infinite;infinite.prepare()